<!DOCTYPE html>
<head>
<title>Yelp for U of R</title>

<!-- include jQuery, bootstrap, and my css --> 
<script src="jquery-1.11.3.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="css/MainStyles.css">
<link rel="stylesheet" type="text/css" href="css/AccountsStyles.css">

<script>

$(document).ready(function() {
  
/***********************************************
      Ajax requests to the server
************************************************/

  // "Log In" clicked
  $("#login").click(function() { // when login button is clicked
    $.ajax({
      url: "/login",
      type: "GET",
      dataType: "text", 
      data : { username: $("#usernameField").val(),
               password: $("#passwordField").val(),
             },
      success: function(data) {
          $("#passwordField").val("");
          $("#usernameField").val("");    
          $("#status").html(data); 
      },
    });
   });

   // "Create New Account" clicked
    $("#signup").click(function() { 
    $.ajax({
      url: "/signup",
      type: "POST", 
      dataType : "text",
      data : { username: $("#usernameField").val(),
               password: $("#passwordField").val(),
             },
      success: function(data) {
          $("#passwordField").val("");
          $("#usernameField").val("");    
          $("#status").html(data); 
       },
    });
  });

  // "Add Card" clicked
  $("#addCard").click(function() { // when login button is clicked
    $.ajax({
      url: "/addCard",
      type: "POST",
      dataType: "text", 
      data : { username: $("#usernameField1").val(),
               card: $("#cardField1").val(),
             },
      success: function(data) {
          $("#usernameField1").val("");
          $("#cardField1").val("");    
          $("#status").html(data); 
      },
    });
   });

  // "Remove Card" clicked
  $("#removeCard").click(function() { // when login button is clicked
    $.ajax({
      url: "/removeCard",
      type: "POST",
      dataType: "text", 
      data : { username: $("#usernameField1").val(),
               card: $("#cardField1").val(),
             },
      success: function(data) {
          $("#usernameField1").val("");
          $("#cardField1").val("");    
          $("#status").html(data); 
      },
    });
   });

  // "Get Cards" clicked
  $("#getCards").click(function() { // when login button is clicked
    $.ajax({
      url: "/getCards",
      type: "GET",
      dataType: "text", 
      data : { username: $("#usernameField1").val()},
      success: function(data) {
          $("#usernameField1").val("");
          $("#status").html(data); 
      },
    });
   });

    // "Search Nearby" clicked
    $("#nearbyPlaces").click(function() { 
    $.ajax({
      url: "/mapsSearchNearby",
      type: "GET", 
      dataType : "text",
      data : { lat: $("#latitude").val(),
               lng: $("#longitude").val(),
               radius: $("#radius").val(),
               filter: $("#filter").val()
             },
      success: function(data) {  
          console.log(data); 
          $("#status").html(data); 
       },
    });
  });

    // "Query Places" clicked
    $("#queryPlaces").click(function() { 
    $.ajax({
      url: "/mapsQueryPlaces",
      type: "GET", 
      dataType : "text",
      data : { location: $("#latitude1").val() + "," + $("#longitude1").val(),
               radius: $("#radius1").val(),
               query: $("#filter1").val()
             },
      success: function(data) {  
        console.log(data); 
          $("#status").html(data); 
       },
    });
  });
});

</script>

</head>
  <body>

<div id="wrap">
  <div id="container"> 

   <!-- outputs status for success or failure -->
      <div id="status"></div>
      <br>
      <br>

  	<div id="username">Username: <input id="usernameField" type="text" size="20"/></div>
  	<div id="password">Password: <input id="passwordField" type="password" size="20"/></div>
    <br>
    <button type="button" class="btn btn-primary btn-lg" id="signup">Create New Account</button>
		<button type="button" class="btn btn-primary btn-lg" id="login">Log In</button>

      <br>
      <br>
      <br>
      <br>
      <br>

    <div id="username">Username: <input id="usernameField1" type="text" size="20"/></div>
    <div id="password">Card: <input id="cardField1" type="password" size="20"/></div>
    <br>
    <button type="button" class="btn btn-primary btn-lg" id="addCard">Add Card</button>
    <button type="button" class="btn btn-primary btn-lg" id="removeCard">Remove Card</button>
    <button type="button" class="btn btn-primary btn-lg" id="getCards">Get Cards</button>


      <br>
      <br>
      <br>
      <br>
      <br>

    <div id="lat">Latitude: <input id="latitude" type="text" size="20"/></div>
    <div id="long">Longitude: <input id="longitude" type="text" size="20"/></div>
    <div>Radius: <input id="radius" type="text" size="20"/></div>
    <div>Filter: <input id="filter" type="text" size="20"/></div>
    <button type="button" class="btn btn-primary btn-lg" id="nearbyPlaces">Nearby Places</button>
    
      <br>
      <br>
      <br>
      <br>
      <br>

    <div id="lat1">Latitude1: <input id="latitude1" type="text" size="20"/></div>
    <div id="long1">Longitude1: <input id="longitude1" type="text" size="20"/></div>
    <div>Radius1: <input id="radius1" type="text" size="20"/></div>
    <div>Filte1r: <input id="filter1" type="text" size="20"/></div>
    <button type="button" class="btn btn-primary btn-lg" id="queryPlaces">Nearby Places1</button>

  </div>  <!-- end of container -->

  </body>
</html>
 